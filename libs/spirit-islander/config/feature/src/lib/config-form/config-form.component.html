<form
  *ngIf="config"
  class="config"
  ui-page-content
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
>
  <ui-card-group name="You" description="What are you playing with?">
    <ui-card name="expansions">
      <app-checkbox-tree
        [root]="root.expansions"
        [form]="form"
        controlName="expansions"
        (nodeClick)="onExpansionChange($event)"
      ></app-checkbox-tree>
    </ui-card>

    <ui-card name="players" [error]="form.playersError">
      <h3 ui-card-header>Players</h3>
      <app-select-players
        ui-card-content
        [form]="form"
      ></app-select-players>
    </ui-card>

    <ui-card name="difficulty" [error]="form.difficultyError">
      <h3 ui-card-header>Difficulty</h3>
      <app-select-difficulty-range
        ui-card-content
        [form]="form">
      </app-select-difficulty-range>
    </ui-card>
  </ui-card-group>

  <ui-card-group
    name="The Game"
    description="What are you open to playing with?"
  >
    <ui-card name="spirits" [error]="form.spiritsError">
      <app-checkbox-tree
        [root]="root.spirits"
        [form]="form"
        controlName="spiritNames"
      ></app-checkbox-tree>
    </ui-card>

    <ui-card name="maps" [error]="form.mapsError">
      <app-checkbox-tree
        [root]="root.maps"
        [form]="form"
        controlName="mapNames"
      ></app-checkbox-tree>
    </ui-card>

    <ui-card name="boards" [error]="form.boardsError">
      <app-checkbox-tree
        [root]="root.boards"
        [form]="form"
        controlName="boardNames"
      ></app-checkbox-tree>
    </ui-card>

    <ui-card name="scenarios" [error]="form.scenariosError">
      <app-checkbox-tree
        [root]="root.scenarios"
        [form]="form"
        controlName="scenarioNames"
      ></app-checkbox-tree>
    </ui-card>

    <ui-card name="adversaries" [error]="form.adversariesError">
      <app-checkbox-tree
        [root]="root.adversaries"
        [form]="form"
        controlName="adversaryLevelIds"
      ></app-checkbox-tree>
    </ui-card>
  </ui-card-group>

  <div ui-page-actions>
    <button core-button [disabled]="!form.valid">Generate</button>
  </div>
</form>
