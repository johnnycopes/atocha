<ui-card>
  <ui-inline-name-edit *ngIf="editing$ | async; else detailsTemplate"
    class="form"
    [name]="name"
    (cancel)="finishEdit$.next()"
    (save)="onSave($event)"
  ></ui-inline-name-edit>
</ui-card>

<ng-template #detailsTemplate>
  <ui-tag
    [id]="id"
    [name]="name"
  ></ui-tag>
  <div class="container">
    <ui-count
      class="count"
      type="meals"
      [count]="meals.length"
    ></ui-count>
    <ui-count
      class="count"
      type="dishes"
      [count]="dishes.length"
    ></ui-count>
    <button ui-button
      class="button"
      buttonStyle="danger"
      (click)="delete.emit()"
    >
      Delete
    </button>
    <button ui-button
      class="button"
      buttonStyle="secondary"
      (click)="startEdit$.next()"
    >
      Edit
    </button>
  </div>
</ng-template>
