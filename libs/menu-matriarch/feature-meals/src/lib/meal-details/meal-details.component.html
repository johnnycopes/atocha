<ng-container *ngIf="vm$ | async as vm">
  <ui-section *ngIf="vm.meal as meal">
    <div class="ui-section__toolbar">
      <button ui-button
        class="button"
        buttonStyle="danger"
        (click)="onDelete()"
      >
        Delete
      </button>
      <a ui-button
        class="button"
        buttonStyle="secondary"
        routerLink="edit"
      >
        Edit
      </a>
    </div>
    <div class="ui-section__content">
      <h2 class="name">
        {{ meal.name }}
      </h2>
      <p *ngIf="meal.description"
        class="description"
      >
        {{ meal.description }}
      </p>
      <ui-tags-list
        *ngIf="meal.tags.length"
        [tags]="meal.tags"
      >
        <ui-tag *uiTagDef="let tag"
          [id]="tag.id"
          [name]="tag.name"
        ></ui-tag>
      </ui-tags-list>
      <div class="details">
        <ui-meal-summary
          [dishes]="meal.dishes"
          [fallbackText]="vm.fallbackText"
          [orientation]="vm.orientation"
          boundaries="labeled"
          (dishClick)="onDishClick($event)"
        ></ui-meal-summary>
      </div>
    </div>
  </ui-section>
</ng-container>
