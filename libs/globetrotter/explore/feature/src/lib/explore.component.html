<div @fadeIn *ngIf="vm$ | async as vm" class="wrapper">
  <ui-list-details
    class="list-details"
    [items]="vm.filteredCountries"
    [listItemTemplate]="listItemTemplate"
    [detailsTemplate]="detailsTemplate"
    [getItemUniqueId]="getCountryId"
    [selectedItem]="vm.selectedCountry"
    [searchTerm]="vm.searchTerm"
    placeholderText="Search by country or capital"
    (selectedItemChange)="onSelect($event)"
    (searchTermChange)="onSearch($event)"
  ></ui-list-details>

  <ng-template #listItemTemplate let-country>
    <div class="list-item">
      <h3>
        {{ country.name }}
      </h3>
    </div>
  </ng-template>

  <ng-template #detailsTemplate let-country>
    <app-explore-country
      [country]="country"
      [summary]="vm.summary"
    ></app-explore-country>
  </ng-template>
</div>
